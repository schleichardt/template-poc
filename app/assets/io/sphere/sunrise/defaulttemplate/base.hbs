<!doctype html>
<html>
    <head>
        <script>
            var connection = new WebSocket('ws://localhost:9000/socket');
            connection.onopen = function () {
                connection.send('Ping');
                console.log("open ws")
            };
            connection.onerror = function (error) {
                console.log('WebSocket Error ' + error);
            };
            connection.onmessage = function (e) {
                console.log('Server: ' + e.data);
                if(e.data == "reload") {
                    location.reload();
                }
            };
        </script>

    </head>
    <body>
        {{#block "header" }}
            <h1>Title</h1> This
        {{/block}}

        {{#block "content" }}
            <p>default content</p>
        {{/block}}

        {{#block "footer" }}
            <p>Powered by Handlebars.java</p>
        {{/block}}
    </body>
</html>
